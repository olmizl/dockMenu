<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DOCKMENU</title>
    <link rel="shortcut icon" href="images/layout/favicon.png" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&family=Roboto:wght@100;300;400;500;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/common.css" />
    <link rel="stylesheet" href="css/splitting.css" />
    <link rel="stylesheet" href="css/fullpage.css" />
    <link rel="stylesheet" href="css/layout.css" />
    <link rel="stylesheet" href="css/main.css" />
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/greensock/gsap.min.js"></script>
    <script src="js/greensock/CSSRulePlugin.min.js"></script>
    <script src="js/splitting.min.js"></script>
    <script src="js/fullpage.min.js"></script>
    <script src="js/particles.min.js"></script>
    <script src="js/imagesloaded.pkgd.min.js"></script>
    <script src="js/aos.js"></script>

  </head>
  <body>
    <body>
      <header  id="header">
        <h1> <strong>DOCK</strong>MENU
        </h1>

      </header>
      <main id="main">
        <div id="ability">
          <h2>CSS</h2>
          <p class="percent"><span class="num">90</span><span class="unit">%</span></p>
          <p class="desc">
            Lorem ipsum, dolor sit amet consectetur adipisicing elit. In qui blanditiis fugit nostrum quod, debitis molestiae consequuntur quaerat esse possimus.
          </p>
        </div>
      </main>
      <nav id="dockMenu">
        <ul>
          <li data-txt="HTML" data-percent="98" data-bg="rgb(228, 121, 0)"><a href=""><span>Ps</span></a></li>
          <li data-txt="CSS" data-percent="90" data-bg="rgb(102, 209, 2)"><a href=""><span>Ai</span></a></li>
          <li data-txt="JS" data-percent="70" data-bg="rgb(6, 101, 245)"><a href=""><span>Ae</span></a></li>
          <li data-txt="JSON" data-percent="80" data-bg="rgb(156, 5, 202)" ><a href=""><span>Pr</span></a></li>
          <li data-txt="HTML" data-percent="90" data-bg="rgb(250, 128, 128, 0.705)"><a href=""><span>Xd</span></a></li>
          <li data-txt="HTML" data-percent="70" data-bg="rgb(8, 187, 133)"><a href=""><span>Dw</span></a></li>
          <li data-txt="HTML" data-percent="80" data-bg="rgb(28, 182, 209)"><a href=""><span>Mu</span></a></li>
          <li data-txt="HTML" data-percent="90" data-bg="rgb(236, 0, 0)"><a href=""><span>Id</span></a></li>
          <li data-txt="HTML" data-percent="80" data-bg="rgb(33, 63, 161)"><a href=""><span>Ab</span></a></li>
          <li data-txt="HTML" data-percent="70" data-bg="rgb(104, 2, 95)"><a href=""><span>Lr</span></a></li>
        </ul>
      </nav>
</body>
<script>
  const max = 50;
  const min = 15;
  gsap.defaults({
    duration:0.4,
    ease:"power4",
  });
gsap.from("#dockMenu ul li", {y:-300, opacity:0, duration:1.5,ease:"bounce",stagger:{each:0.1},onComplete:function(){ //onComplete:모션 끝난시점
  console.log('끝');
  makeDockMenu();
}});
function makeDockMenu() {
$("#dockMenu ul li").on("mouseenter", function(){
const selected = $(this).index();
$("#dockMenu ul li").each(function(idx,item){
  // console.log( Math.abs(selected-idx));
  let basis = max - Math.abs(selected-idx) *10;
  if(basis<min) {
    basis =min;
  }
  console.log(basis);
  gsap.to($(this),{flexBasis:`${basis}%`});
  gsap.to($(this).find("span"),{fontSize:basis});
});


});
$("#dockMenu ul li").on("mouseleave", function(){
const selected = $(this).index();
$("#dockMenu ul li").each(function(idx,item){
  // console.log( Math.abs(selected-idx));
  let basis = max - Math.abs(selected-idx) *10;
  if(basis<min) {
    basis =min;
  }
  console.log(basis);
  gsap.to($(this),{flexBasis:`${basis}%`});
  gsap.to($(this).find("span"),{fontSize:basis});
});
});
$("#dockMenu ul li").on("mouseenter",function(){
  const txt = $(this).data("txt")
  const percent = $(this).data("percent")
  const bg = $(this).data("bg")
  $("#ability h2").text(txt);
  $("#ability .num").text(percent);
  $("#ability ").css({backgroundColor:bg});
  $("#ability ").css("border","solid 10px #ccc");

  gsap.fromTo("#ability",{top:"-150%"}, {top:"50%" , duration:1.5});
  return false;
});
}
</script>
</html>
